<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year 2026! | Puzzle Edition</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Chicle&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --mustard: #FFDB58;
            --teal: #008080;
            --dark-teal: #004d4d;
            --off-white: #F9F7F2;
            --orange: #FF7F50;
            --black: #2C3E50;
            --card-shadow: 8px 8px 0px rgba(0,0,0,0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--black); /* Default background behind pages */
            color: var(--black);
            overflow: hidden; /* No scrolling allowed! */
            height: 100vh;
            width: 100vw;
        }

        h1, h2, h3 {
            font-family: 'Chicle', cursive;
            letter-spacing: 1px;
        }

        /* --- Page Structure --- */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* Hidden by default */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1rem;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            overflow-y: auto; /* Allow content scroll on small screens if needed */
        }

        .page.active {
            display: flex;
            opacity: 1;
            z-index: 10;
        }

        .container {
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2.5rem;
            color: var(--dark-teal);
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px var(--mustard);
            transform: rotate(-2deg);
        }

        /* --- Buttons --- */
        .btn {
            background: var(--orange);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-family: 'Chicle', cursive;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 4px 4px 0px var(--black);
            transition: transform 0.1s, box-shadow 0.1s;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
        }

        .btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px var(--black);
        }

        /* Hidden Button Style */
        .puzzle-btn {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.8);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .puzzle-btn.revealed {
            opacity: 1;
            pointer-events: all;
            transform: scale(1);
        }

        /* --- 1. Hero Screen --- */
        #hero {
            background: radial-gradient(circle at center, #1a2a6c, #b21f1f, #fdbb2d);
            background: linear-gradient(to bottom, #001f3f, #004d4d);
            color: white;
        }

        #fireworks-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-size: 4rem;
            line-height: 1;
            margin-bottom: 0.5rem;
            color: var(--mustard);
            text-shadow: 4px 4px 0px #000;
            cursor: pointer; /* Hint that it's clickable */
            transition: transform 0.2s;
        }
        
        .hero-title:hover {
            transform: scale(1.05);
        }

        /* --- 2. Greeting Card --- */
        #greeting {
            background-color: var(--mustard);
        }

        .card-frame {
            background: white;
            border: 4px solid var(--black);
            padding: 2rem;
            box-shadow: var(--card-shadow);
            transform: rotate(-2deg);
            max-width: 90%;
        }

        .meme-cat {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: inline-block;
            cursor: pointer;
            animation: wiggle 2s infinite ease-in-out;
        }

        /* --- 3. Bucket List --- */
        #bucket-list {
            background-color: var(--off-white);
        }

        .checklist {
            list-style: none;
            width: 100%;
            text-align: left;
        }

        .check-item {
            background: white;
            border: 2px solid var(--black);
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
            transition: 0.2s;
        }

        .check-item.checked .checkbox::after {
            content: '‚úì';
            font-weight: bold;
            color: var(--teal);
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--black);
            margin-right: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--off-white);
        }

        .check-item.checked span {
            text-decoration: line-through;
            color: #888;
        }

        /* --- 4. Music Player --- */
        #music {
            background-color: var(--teal);
            color: white;
        }
        
        #music .section-title { color: var(--mustard); text-shadow: 2px 2px var(--black); }

        .cassette-stack {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
        }

        .cassette {
            background: #333;
            border-radius: 12px;
            padding: 10px;
            position: relative;
            height: 90px;
            cursor: pointer;
            border: 3px solid rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cassette-label {
            background: var(--off-white);
            width: 60%;
            height: 70%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            color: var(--black);
            font-family: 'Chicle', cursive;
        }

        .cassette.playing {
            border-color: var(--mustard);
            box-shadow: 0 0 15px var(--mustard);
        }
        
        .visualizer {
            display: flex;
            gap: 3px;
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            height: 20px;
            align-items: flex-end;
            opacity: 0;
        }
        
        .cassette.playing .visualizer { opacity: 1; }
        
        .bar {
            width: 4px;
            background: #fff;
            animation: sound 0.5s infinite alternate;
        }
        .bar:nth-child(1) { animation-delay: 0.1s; height: 10px; }
        .bar:nth-child(2) { animation-delay: 0.3s; height: 15px; }
        .bar:nth-child(3) { animation-delay: 0.2s; height: 8px; }
        .bar:nth-child(4) { animation-delay: 0.4s; height: 18px; }

        /* --- 5. Vouchers --- */
        #vouchers {
            background-color: var(--orange);
        }
        
        #vouchers .section-title { color: var(--off-white); text-shadow: 2px 2px var(--black); }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 1rem;
            width: 100%;
        }

        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 180px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: var(--card-shadow);
            border-radius: 12px;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border: 3px solid var(--black);
        }

        .flip-card-front { background-color: var(--off-white); color: black; }
        .flip-card-back { background-color: var(--teal); color: white; transform: rotateY(180deg); padding: 0.5rem; }
        
        .voucher-icon { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .voucher-next-btn {
            background: white; color: var(--teal); border: none; padding: 5px 10px; margin-top: 10px; border-radius: 5px; cursor: pointer; font-weight: bold;
        }

        /* --- 6. Loader --- */
        #loader-section {
            background-color: var(--black);
            color: var(--off-white);
        }

        .progress-container {
            width: 100%;
            height: 30px;
            background-color: #444;
            border-radius: 15px;
            overflow: hidden;
            margin: 1.5rem 0;
            border: 2px solid white;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: repeating-linear-gradient(45deg, var(--mustard), var(--mustard) 10px, var(--orange) 10px, var(--orange) 20px);
            transition: width 2.5s ease-in-out;
        }
        
        .bug-fix { font-family: monospace; color: #0f0; min-height: 1.2em; margin-bottom: 20px;}

        /* --- 7. Final Note --- */
        #final-note {
            background-color: var(--mustard);
        }

        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
        }

        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background: var(--orange);
            border-radius: 0 0 10px 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            z-index: 10;
        }
        
        /* Flaps */
        .envelope::before { /* Left */
            content: ''; position: absolute; top: 0; left: 0; width: 0; height: 0;
            border-left: 150px solid var(--dark-teal); border-top: 100px solid transparent; border-bottom: 100px solid transparent; z-index: 12;
        }
        .envelope::after { /* Right */
            content: ''; position: absolute; top: 0; right: 0; width: 0; height: 0;
            border-right: 150px solid var(--teal); border-top: 100px solid transparent; border-bottom: 100px solid transparent; z-index: 12;
        }
        .flap-bottom {
             position: absolute; bottom: 0; left: 0; width: 0; height: 0; 
             border-left: 150px solid transparent; border-right: 150px solid transparent; border-bottom: 100px solid #cc6640; z-index: 13; border-radius: 0 0 10px 10px;
        }
        .flap-top {
            position: absolute; top: 0; left: 0; width: 0; height: 0; 
            border-left: 150px solid transparent; border-right: 150px solid transparent; border-top: 110px solid #e67348;
            transform-origin: top; transition: transform 0.6s ease-in-out, z-index 0.6s; z-index: 14;
        }
        
        .letter {
            position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;
            background: white; padding: 1.5rem; border-radius: 5px;
            transition: transform 0.6s ease-in-out 0.4s; z-index: 5;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .envelope-wrapper.open .flap-top { transform: rotateX(180deg); z-index: 1; }
        .envelope-wrapper.open .letter { transform: translateY(-160px); z-index: 15; }

        /* Animations */
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes wiggle { 0%, 100% { transform: rotate(-5deg); } 50% { transform: rotate(5deg); } }
        @keyframes sound { 0% { height: 5px; } 100% { height: 100%; } }

        @media (min-width: 768px) {
            .hero-title { font-size: 6rem; }
            .section-title { font-size: 3.5rem; }
            .container { padding: 4rem 2rem; }
        }
    </style>
</head>
<body>

    <!-- 1. Hero Screen -->
    <section id="hero" class="page active">
        <canvas id="fireworks-canvas"></canvas>
        <div class="hero-content container">
            <!-- PUZZLE: Click the 2026 to reveal button -->
            <h1 class="hero-title" onclick="revealHeroButton()">Happy New Year<br>2026!</h1>
            <p class="hero-sub" style="margin-bottom: 0.5rem;">Another year of chaos pending... üéÜ</p>
            <p style="font-family: 'Chicle', cursive; font-size: 1.5rem; margin-bottom: 2rem; color: var(--mustard);">By Hardik Rohit</p>
            
            <p style="font-size: 0.9rem; opacity: 0.7;">(Tap "2026" to start the party)</p>
            <button class="btn puzzle-btn" id="hero-btn" onclick="nextPage(1)">Let's Go! üëá</button>
        </div>
    </section>

    <!-- 2. The Greeting Card -->
    <section id="greeting" class="page">
        <div class="container">
            <div class="card-frame">
                <!-- PUZZLE: Click the cat -->
                <div class="meme-cat" onclick="revealGreetingButton()">üê±üéâ</div>
                <h2>Hey Best Friend!</h2>
                <p style="margin: 1rem 0; font-size: 1.1rem; line-height: 1.6;">
                    Thanks for sticking by me in 2025. You made the tough days easier and the good days slightly more chaotic (in a good way).
                </p>
                <p><strong>Let's crush 2026!</strong></p>
            </div>
            <p style="margin-top:20px; color: var(--black); opacity: 0.7;">(Pet the cat to continue)</p>
            <button class="btn puzzle-btn" id="greeting-btn" onclick="nextPage(2)">See Goals üëâ</button>
        </div>
    </section>

    <!-- 3. Bucket List -->
    <section id="bucket-list" class="page">
        <div class="container">
            <h2 class="section-title">Goals for 2026</h2>
            <p style="margin-bottom: 1rem;">(Check ALL items to proceed)</p>
            <ul class="checklist">
                <li class="check-item" onclick="checkItem(this)">
                    <div class="checkbox"></div><span>Actually stick to a gym routine üí™</span>
                </li>
                <li class="check-item" onclick="checkItem(this)">
                    <div class="checkbox"></div><span>Go on that trip we keep planning üó∫Ô∏è</span>
                </li>
                <li class="check-item" onclick="checkItem(this)">
                    <div class="checkbox"></div><span>Save money (for real this time) üí∞</span>
                </li>
                <li class="check-item" onclick="checkItem(this)">
                    <div class="checkbox"></div><span>Eat good food with good people üçï</span>
                </li>
            </ul>
            <button class="btn puzzle-btn" id="list-btn" onclick="nextPage(3)">Vibes Unlocked üéµ</button>
        </div>
    </section>

    <!-- 4. Music Player -->
    <section id="music" class="page">
        <div class="container">
            <h2 class="section-title">Vibes for 2026</h2>
            <p style="margin-bottom: 1rem; color: white;">(Play "2026 Energy" to continue)</p>
            <div class="cassette-stack">
                <div class="cassette" onclick="playTape(this, false)">
                    <div class="cassette-label"><span>Tape 1</span><small>Count on Me</small></div>
                    <div class="visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
                </div>
                <div class="cassette" onclick="playTape(this, false)">
                    <div class="cassette-label"><span>Tape 2</span><small>FRIENDS Theme</small></div>
                    <div class="visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
                </div>
                <!-- PUZZLE: Play this specific tape -->
                <div class="cassette" onclick="playTape(this, true)">
                    <div class="cassette-label"><span>Tape 3</span><small>2026 Energy</small></div>
                    <div class="visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
                </div>
            </div>
            <button class="btn puzzle-btn" id="music-btn" onclick="nextPage(4)">Get Gifts üéÅ</button>
        </div>
    </section>

    <!-- 5. Friendship Vouchers -->
    <section id="vouchers" class="page">
        <div class="container">
            <h2 class="section-title">Coupons 4 U</h2>
            <p style="margin-bottom: 1rem; color: white;">(Find the hidden button on a card...)</p>
            <div class="cards-grid">
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front"><div class="voucher-icon">üé´</div><h3>Tap to Flip</h3></div>
                        <div class="flip-card-back"><div class="voucher-icon">üó£Ô∏è</div><h3>Venting Session</h3><p>(No judgment)</p></div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front"><div class="voucher-icon">üé´</div><h3>Tap to Flip</h3></div>
                        <div class="flip-card-back"><div class="voucher-icon">üçî</div><h3>Lunch Treat</h3><p>On me!</p></div>
                    </div>
                </div>
                <!-- PUZZLE: Button hidden on back -->
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front"><div class="voucher-icon">üé´</div><h3>Tap to Flip</h3></div>
                        <div class="flip-card-back">
                            <div class="voucher-icon">üíª</div>
                            <h3>Tech Support</h3>
                            <button class="voucher-next-btn" onclick="event.stopPropagation(); nextPage(5)">FOUND IT! GO -></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. The Loader -->
    <section id="loader-section" class="page">
        <div class="container">
            <h2>System Update</h2>
            <p>Closing Hardik's 2025... Installing 2026...</p>
            <div class="progress-container">
                <div class="progress-bar" id="update-bar"></div>
            </div>
            <div class="bug-fix" id="bug-text"></div>
            <button class="btn puzzle-btn" id="loader-btn" onclick="nextPage(6)">Open Letter üíå</button>
        </div>
    </section>

    <!-- 7. The Final Note -->
    <section id="final-note" class="page">
        <div class="container">
            <div class="envelope-wrapper" onclick="openEnvelope(this)">
                <div class="envelope"><div class="flap-bottom"></div></div>
                <div class="flap-top"></div>
                <div class="letter">
                    <h3>Happy New Year! üåü</h3>
                    <p>Wishing you success, peace, and a lot less stress this year. Grateful to have you in my life.</p>
                    <p style="margin-top: 1rem; font-family: 'Chicle', cursive; color: var(--teal);">Let's make it a good one!<br><br>- by Hardik</p>
                </div>
            </div>
            <p class="instruction">Tap the envelope to open üíå</p>
            <button class="btn" style="margin-top: 30px;" onclick="location.reload()">Replay üéâ</button>
        </div>
    </section>

    <script>
        // --- Navigation Logic ---
        const pages = document.querySelectorAll('.page');
        
        function nextPage(currentIndex) {
            // Hide current
            pages[currentIndex].classList.remove('active');
            
            // Show next if exists
            const nextIndex = currentIndex + 1;
            if (nextIndex < pages.length) {
                pages[nextIndex].classList.add('active');
                
                // Trigger specific logic for the new page if needed
                if (pages[nextIndex].id === 'loader-section') {
                    startLoader();
                }
            }
        }

        // --- 1. Hero Puzzle ---
        function revealHeroButton() {
            document.getElementById('hero-btn').classList.add('revealed');
        }

        // --- 2. Greeting Puzzle ---
        function revealGreetingButton() {
            document.getElementById('greeting-btn').classList.add('revealed');
        }

        // --- 3. Bucket List Puzzle ---
        function checkItem(item) {
            item.classList.toggle('checked');
            
            // Check if all are checked
            const allItems = document.querySelectorAll('.check-item');
            const allChecked = Array.from(allItems).every(i => i.classList.contains('checked'));
            
            if (allChecked) {
                document.getElementById('list-btn').classList.add('revealed');
            } else {
                document.getElementById('list-btn').classList.remove('revealed');
            }
        }

        // --- 4. Music Puzzle ---
        function playTape(el, isCorrectTape) {
            // Reset others
            document.querySelectorAll('.cassette').forEach(c => c.classList.remove('playing'));
            el.classList.add('playing');
            
            if (isCorrectTape) {
                document.getElementById('music-btn').classList.add('revealed');
            }
        }

        // --- 6. Loader Logic ---
        function startLoader() {
            const progressBar = document.getElementById('update-bar');
            const bugText = document.getElementById('bug-text');
            
            // Reset for replay
            progressBar.style.width = '0%';
            
            setTimeout(() => {
                progressBar.style.width = '100%';
                
                const messages = [
                    "Removing bad vibes...",
                    "Patching heart.exe...",
                    "Downloading confidence...",
                    "Optimizing bank account...",
                    "Update Complete!"
                ];
                let i = 0;
                const interval = setInterval(() => {
                    if(i < messages.length) {
                        bugText.textContent = `> ${messages[i]}`;
                        i++;
                    } else {
                        clearInterval(interval);
                        // Reveal button automatically after loading
                        document.getElementById('loader-btn').classList.add('revealed');
                    }
                }, 600);
            }, 100);
        }

        // --- 7. Envelope Logic ---
        function openEnvelope(el) {
            el.classList.toggle('open');
        }

        // --- Fireworks Background Logic (Same as before) ---
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');
        let fireworks = [];
        let particles = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Firework {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height;
                this.sx = Math.random() * 3 - 1.5;
                this.sy = -(Math.random() * 4 + 10);
                this.size = 2;
                this.hue = Math.floor(Math.random() * 360);
            }
            update() {
                this.x += this.sx;
                this.y += this.sy;
                this.sy += 0.15;
                if (this.sy >= -2) {
                    createParticles(this.x, this.y, this.hue);
                    return true;
                }
                return false;
            }
            draw() {
                ctx.fillStyle = `hsl(${this.hue}, 100%, 50%)`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        class Particle {
            constructor(x, y, hue) {
                this.x = x;
                this.y = y;
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 3 + 1;
                this.sx = Math.cos(angle) * speed;
                this.sy = Math.sin(angle) * speed;
                this.hue = hue;
                this.alpha = 1;
                this.decay = Math.random() * 0.015 + 0.01;
            }
            update() {
                this.x += this.sx;
                this.y += this.sy;
                this.sy += 0.05;
                this.sx *= 0.95;
                this.sy *= 0.95;
                this.alpha -= this.decay;
                return this.alpha <= 0;
            }
            draw() {
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = `hsl(${this.hue}, 100%, 50%)`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2);
                ctx.fill();
                ctx.globalAlpha = 1;
            }
        }

        function createParticles(x, y, hue) {
            for (let i = 0; i < 30; i++) {
                particles.push(new Particle(x, y, hue));
            }
        }

        function animateFireworks() {
            ctx.fillStyle = 'rgba(0, 31, 63, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            if (Math.random() < 0.05) fireworks.push(new Firework());
            fireworks = fireworks.filter(fw => { fw.draw(); return !fw.update(); });
            particles = particles.filter(p => { p.draw(); return !p.update(); });
            requestAnimationFrame(animateFireworks);
        }
        animateFireworks();

    </script>
</body>
</html>
